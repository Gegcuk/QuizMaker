# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-4.1-mini

# Database Configuration (optional - already configured in application.properties)
DB_URL=jdbc:mysql://localhost:3306/quizmakerdb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
DB_USERNAME=your_db_username
DB_PASSWORD=your_db_password

# Quiz configuration
quiz.default-category-id=00000000-0000-0000-0000-000000000001

# JWT Configuration (optional - already configured in application.properties)
JWT_SECRET=your_jwt_secret_here 

# Additional secrets required
# Pepper used to hash share-link tokens server-side
TOKEN_PEPPER_SECRET=please_set_a_strong_random_value

## Stripe test keys (UI)
# The public key is typically used by the frontend for client-side Stripe.js.
# Backend server uses STRIPE_SECRET_KEY below (not STRIPE_TEST_SECRET_KEY).
STRIPE_TEST_PUBLIC_KEY=pk_test_your_key_here
# STRIPE_TEST_SECRET_KEY is not used by this backend; prefer STRIPE_SECRET_KEY.
STRIPE_TEST_SECRET_KEY=sk_test_your_key_here

# Stripe (server) configuration â€” used by backend
STRIPE_SECRET_KEY=sk_test_your_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_SUCCESS_URL=http://localhost:3000/billing/success
STRIPE_CANCEL_URL=http://localhost:3000/billing/cancel
STRIPE_PRICE_SMALL=price_small_test_id
STRIPE_PRICE_MEDIUM=price_medium_test_id
STRIPE_PRICE_LARGE=price_large_test_id
STRIPE_PRICE_SUBSCRIPTION=price_subscription_test_id
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Billing configuration
BILLING_TOKEN_TO_LLM_RATIO=1000
BILLING_RESERVATION_TTL_MINUTES=120
BILLING_SAFETY_FACTOR=1.2
BILLING_CURRENCY=usd

# Email Provider Configuration
# Options: ses (AWS SES via HTTPS), smtp (legacy SMTP), noop (logging only, no sending)
# Recommended: 'noop' for local dev, 'ses' for production
APP_EMAIL_PROVIDER=ses

# Email Sender Configuration
# Must be a verified identity in AWS SES when using provider=ses
APP_EMAIL_FROM="No Reply <noreply@example.com>"

# AWS SES Configuration (only required when APP_EMAIL_PROVIDER=ses)
# AWS region where your SES identity is verified
APP_EMAIL_REGION=us-east-1
# Optional: SES Configuration Set for tracking bounces/complaints
APP_EMAIL_SES_CONFIGURATION_SET=
# Optional: fine tune SES client timeouts (milliseconds)
APP_EMAIL_SES_API_CALL_TIMEOUT_MS=30000
APP_EMAIL_SES_API_CALL_ATTEMPT_TIMEOUT_MS=10000
APP_EMAIL_SES_HTTP_CONNECTION_TIMEOUT_MS=5000
APP_EMAIL_SES_HTTP_SOCKET_TIMEOUT_MS=15000
# Optional: override plain-text email template locations
APP_EMAIL_TEMPLATE_PASSWORD_RESET=classpath:email/password-reset-email.txt
APP_EMAIL_TEMPLATE_EMAIL_VERIFICATION=classpath:email/email-verification-email.txt

# AWS Credentials (only required when APP_EMAIL_PROVIDER=ses)
# For local dev: set these environment variables
# For production: use IAM roles (ECS/EC2) instead
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1

# Email (SMTP) configuration - legacy, only used when APP_EMAIL_PROVIDER=smtp
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USERNAME=your_smtp_username
SMTP_PASSWORD=your_smtp_password
SMTP_USE_TLS=true

# Frontend configuration
FRONTEND_BASE_URL=http://localhost:3000

# DigitalOcean Spaces / CDN
MEDIA_BUCKET=quizzence
MEDIA_REGION=lon1
MEDIA_ENDPOINT=https://lon1.digitaloceanspaces.com
MEDIA_CDN_BASE_URL=https://cdn.quizzence.com
DO_SPACES_ACCESS_KEY=your_spaces_access_key
DO_SPACES_SECRET_KEY=your_spaces_secret_key
MEDIA_UPLOAD_URL_TTL=PT15M
MEDIA_MAX_IMAGE_SIZE_BYTES=20971520
MEDIA_MAX_DOC_SIZE_BYTES=20971520
MEDIA_DELETE_REMOTE=false
MEDIA_ARTICLE_PREFIX=articles
MEDIA_LIBRARY_PREFIX=library

# Auth configuration
RESET_TOKEN_PEPPER=please_set_a_strong_random_value
VERIFICATION_TOKEN_PEPPER=please_set_a_strong_random_value

# OAuth2 Configuration
# Redirect URI where OAuth providers should send users after authentication
OAUTH2_REDIRECT_URI=http://localhost:3000/oauth2/redirect
# Base64 encoded 32-byte key used to encrypt provider tokens in the database
OAUTH2_TOKEN_SECRET=lrPUVT2UZTcTqiRvLjrl0XWrnTl+BV5FEbSqxzXwKYE=

# Google OAuth2 (https://console.cloud.google.com/apis/credentials)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# GitHub OAuth2 (https://github.com/settings/developers)
OAUTH_GITHUB_CLIENT_ID=your_github_client_id_here
OAUTH_GITHUB_CLIENT_SECRET=your_github_client_secret_here

# Facebook OAuth2 (https://developers.facebook.com/)
FACEBOOK_CLIENT_ID=your_facebook_app_id_here
FACEBOOK_CLIENT_SECRET=your_facebook_app_secret_here

# Microsoft OAuth2 (https://portal.azure.com/)
MICROSOFT_CLIENT_ID=your_microsoft_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here

# ===============================================
# DEPLOYMENT / PRODUCTION SECRETS (GitHub Actions / Server)
# ===============================================

# Production Database (for server deployment)
DB_PROD_USERNAME=production_db_user
DB_ROOT_PASSWORD=production_db_root_password

# Server Deployment (for GitHub Actions deployment workflow)
SERVER_HOST=your.production.server.com
SERVER_USER=deploy_user
SERVER_SSH_KEY=-----BEGIN_OPENSSH_PRIVATE_KEY-----...

# ===============================================
# TESTING CONFIGURATION (Local Development Only)
# ===============================================

# Enable Real AWS SES E2E Tests (set to 'true' to run real email tests)
RUN_REAL_SES_TESTS=false

# Test recipient email (must be verified in SES sandbox)
TEST_SES_RECIPIENT_EMAIL=your-verified-test@email.com
