<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuizMaker API Documentation</title>
    <style>
        :root {
            color-scheme: light dark;
            font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            background: #0f172a;
            color: #e2e8f0;
        }

        body {
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(180deg, rgba(15, 23, 42, 1) 0%, rgba(15, 23, 42, .9) 40%, rgba(15, 23, 42, 1) 100%);
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        header {
            padding: 3rem 1.5rem 2rem;
            text-align: center;
        }

        header h1 {
            margin: 0;
            font-size: clamp(2rem, 4vw, 3.2rem);
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        header p {
            margin: 0.75rem auto 0;
            max-width: 50rem;
            color: rgba(226, 232, 240, 0.75);
            font-size: 1.05rem;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            margin-top: 1.25rem;
            padding: 0.35rem 0.85rem;
            border-radius: 999px;
            background: rgba(148, 163, 184, 0.12);
            color: rgba(226, 232, 240, 0.85);
            font-size: 0.95rem;
        }

        main {
            flex: 1;
            width: min(1100px, 92vw);
            margin: 0 auto 4rem;
        }

        .quick-links {
            display: grid;
            gap: 1rem;
            margin: 0 0 2.5rem;
        }

        .quick-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.85rem 1.1rem;
            border-radius: 0.75rem;
            background: rgba(79, 70, 229, 0.18);
            color: #c7d2fe;
            font-weight: 600;
            transition: transform 150ms ease, background 150ms ease;
        }

        .quick-links a:hover {
            transform: translateY(-2px);
            background: rgba(99, 102, 241, 0.28);
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.6rem;
        }

        .card {
            position: relative;
            padding: 1.75rem;
            border-radius: 1.4rem;
            background: rgba(15, 23, 42, 0.72);
            border: 1px solid rgba(148, 163, 184, 0.25);
            box-shadow: 0 20px 40px -30px rgba(15, 23, 42, 0.8);
            transition: transform 180ms ease, border-color 180ms ease;
        }

        .card:hover {
            transform: translateY(-6px);
            border-color: rgba(99, 102, 241, 0.45);
        }

        .card .icon {
            font-size: 2.25rem;
        }

        .card h2 {
            margin: 1rem 0 0.5rem;
            font-size: 1.35rem;
            color: rgba(226, 232, 240, 0.95);
        }

        .card p {
            margin: 0 0 1.2rem;
            color: rgba(148, 163, 184, 0.9);
            line-height: 1.5;
        }

        .size-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.3rem 0.7rem;
            border-radius: 999px;
            background: rgba(45, 212, 191, 0.18);
            color: rgba(165, 243, 252, 0.9);
            font-size: 0.85rem;
            font-weight: 600;
        }

        .buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-top: 1.3rem;
        }

        .buttons a {
            flex: 1;
            min-width: 140px;
            padding: 0.65rem 0.9rem;
            border-radius: 0.75rem;
            font-weight: 600;
            text-align: center;
            transition: transform 150ms ease, background 150ms ease;
        }

        .buttons a.docs {
            background: rgba(59, 130, 246, 0.22);
            color: #bfdbfe;
        }

        .buttons a.spec {
            background: rgba(45, 212, 191, 0.18);
            color: #a7f3d0;
        }

        .buttons a:hover {
            transform: translateY(-2px);
        }

        footer {
            text-align: center;
            padding: 2rem 1rem 3rem;
            color: rgba(148, 163, 184, 0.75);
            font-size: 0.95rem;
        }

        footer a {
            color: rgba(190, 242, 100, 0.9);
        }

        @media (min-width: 640px) {
            .quick-links {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }

        @media (max-width: 640px) {
            header {
                padding: 2.5rem 1.25rem 1.75rem;
            }

            .card {
                padding: 1.5rem;
            }

            .buttons a {
                flex: 1 1 100%;
            }
        }
    </style>
</head>
<body>
<header>
    <span class="badge">API Version <span th:text="${summary.version()}"></span></span>
    <h1>QuizMaker API Documentation</h1>
    <p>
        Discover the QuizMaker API in digestible sections. Browse grouped Swagger UIs, download
        focused OpenAPI specs, or explore everything at once. Built to help both humans and AI agents
        find the right endpoints fast.
    </p>
</header>

<main>
    <section class="quick-links">
        <a th:href="${summary.fullDocsUrl()}">ðŸ“– View Complete Swagger UI</a>
        <a th:href="${summary.fullSpecUrl()}">ðŸ“„ Download Full OpenAPI Spec</a>
        <a th:href="${summary.baseUrl()} + '/api-summary'">ðŸ§  Lightweight JSON Summary</a>
    </section>

    <section class="cards">
        <article class="card" th:each="group : ${groups}">
            <div class="icon" th:text="${group.icon()}"></div>
            <h2 th:text="${group.displayName()}"></h2>
            <p th:text="${group.description()}"></p>

            <span class="size-badge">
                ~<span th:text="${group.estimatedSizeKB()}"></span> KB JSON
            </span>

            <div class="buttons">
                <a class="docs" th:href="${group.docsUrl()}">ðŸ“– View Docs</a>
                <a class="spec" th:href="${group.specUrl()}">ðŸ“„ OpenAPI Spec</a>
            </div>
        </article>
    </section>
</main>

<footer>
    <div>
        Need raw JSON? Try <a th:href="${summary.baseUrl()} + '/api-summary'">/api/v1/api-summary</a>.
        For legacy consumers use <a th:href="${summary.fullSpecUrl()}">/v3/api-docs</a>.
    </div>
</footer>
</body>
</html>
